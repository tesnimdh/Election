<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Election Results</title>
    <link rel="stylesheet" href="/results.css" />
  </head>

  <body>
    <%- include('fixed/navbar') %>
    <div class="container mt-5">
      <h3 class="text-center mb-4">Results</h3>
      <div class="row justify-content-center">
        <% results.forEach(result => { %>
        <div class="col-md-8">
          <div class="list-group">
            <div class="list-group-item result">
              <div class="d-flex justify-content-between align-items-center">
                <span class="candidate-name"><%= result.candidate.name %></span>
                <span class="badge"
                  ><%= Math.round((result.voteCount * 100) / votes.length) || 0
                  %>%
                </span>
              </div>
              <div class="progress candidate-bar">
                <div
                  class="progress-bar"
                  role="progressbar"
                  style="width: <%= result.voteCount * 100 / votes.length %>%"
                  aria-valuenow="<%= result.voteCount %>"
                  aria-valuemin="0"
                  aria-valuemax="<%= votes.length %>"
                ></div>
              </div>
            </div>
          </div>
        </div>
        <% }); %>
      </div>
    </div>
  </body>
</html>
